import{d as j,aa as u,r as d,b as C,au as O,o as e,c as n,l as f,w as A,a as r,V as h,F as y,k as L,A as P,f as R,as as U,dm as q,__tla as z}from"./index-c0a26e5e.js";import{E as B,__tla as G}from"./el-image-bc627c23.js";import{__tla as H}from"./el-image-viewer-5eb59d31.js";import{_ as I,__tla as J}from"./UploadImgs-42305c92.js";import{c as K,__tla as M}from"./index-5f0d8cbf.js";import{d as Q,__tla as S}from"./spu.data-04495b71.js";import{u as T,__tla as W}from"./useMessage-3978ad3b.js";import{u as X,__tla as Y}from"./useCrudSchemas-8fc3336c.js";import{r as Z,__tla as $}from"./formRules-7031ffca.js";let v,tt=Promise.all([(()=>{try{return z}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return S}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return Y}catch{}})(),(()=>{try{return $}catch{}})()]).then(async()=>{let p;p={key:1},v=j({name:"DescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:u.string.def(""),isDetail:u.bool.def(!1)},emits:["update:activeName"],setup(i,{expose:D,emit:k}){const w=T();X(Q);const m=i,o=d(),t=d({description:[]}),F=C({description:[Z]});O(()=>m.propFormData,a=>{a&&(q(t,a),a.description.length&&(t.value.description=a.description.map(s=>({url:s}))))},{immediate:!0});const x=k;return D({validate:async()=>{if(o)return await r(o).validate(a=>{if(!a)throw w.warning("\u5546\u54C1\u8BE6\u60C5\u4E3A\u5B8C\u5584!!"),x("update:activeName","description"),new Error("\u5546\u54C1\u8BE6\u60C5\u4E3A\u5B8C\u5584!!");Object.assign(m.propFormData,t.value)})}}),(a,s)=>{const b=I,g=P,V=B;return e(),n(y,null,[i.isDetail?h("",!0):(e(),f(g,{key:0,ref_key:"descriptionFormRef",ref:o,model:r(t),rules:r(F),"label-width":"120px"},{default:A(()=>[R(b,{modelValue:r(t).description,"onUpdate:modelValue":s[0]||(s[0]=l=>r(t).description=l)},null,8,["modelValue"])]),_:1},8,["model","rules"])),i.isDetail?(e(),n("div",p,[(e(!0),n(y,null,L(r(t).description,(l,E)=>(e(),f(V,{key:E,src:l.url,class:"mr-10px h-60px w-60px",onClick:at=>(_=>{const c=[];U(_)?_.forEach(N=>{c.push(N)}):c.push(_),K({urlList:c})})(l.url)},null,8,["src","onClick"]))),128))])):h("",!0)],64)}}})});export{v as _,tt as __tla};
