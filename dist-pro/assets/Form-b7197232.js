import{b3 as rl,b4 as cl,b5 as ul,d as ge,ak as dl,aE as Se,r as $,aS as Pe,b as T,a as x,A as He,b6 as pl,b7 as ml,aF as Ce,h as Be,aU as St,al as Y,b8 as fl,aI as Ue,o as N,c as G,t as le,W as E,au as se,g as Q,b9 as hl,ba as vl,bb as bl,aK as gl,bc as Sl,aH as Ee,bd as Z,be as yl,ax as me,bf as xl,i as L,ah as re,bg as Oe,bh as Vl,bi as fe,bj as Il,aR as Te,bk as wl,bl as je,bm as Cl,bn as Ol,f as qe,bo as yt,bp as Tl,bq as kl,br as Ml,ay as _l,bs as xt,bt as zl,bu as Rl,bv as Pl,bw as Vt,bx as It,aj as Bl,b1 as wt,aG as El,by as Fl,bz as Ll,bA as Ct,bB as Nl,ai as Fe,O as Ge,B as ye,w as J,a1 as ce,F as xe,k as Qe,q as ue,P as ne,a0 as Dl,aN as Wl,bC as $l,af as Ot,bD as Tt,T as Kl,bE as Al,bF as Hl,C as Ul,bG as jl,bH as ql,bI as Gl,bJ as Ql,G as Xl,bK as Jl,bL as Yl,bM as Zl,m as ea,bN as ta,l as la,bO as aa,M as oa,ag as sa,bP as na,aa as ia,bQ as ra,p as ke,L as ca,I as ua,X as da,bR as pa,v as ma,n as fa,E as ha,_ as va,D as ba,aT as ga,__tla as Sa}from"./index-0d81347e.js";import{H as kt,V as ya,v as xa,I as Mt,S as _t,u as Va,i as Me,R as Xe,g as zt,a as Ia,b as Rt,c as wa,B as Ca,F as Oa,d as Je,A as Ye,e as Ta,C as Le,E as Pt,f as Bt,h as Et,D as ka,__tla as Ma}from"./el-virtual-list-3be00d55.js";import{E as _a,__tla as za}from"./el-tree-select-f0321f9b.js";import{E as Ra,__tla as Pa}from"./el-time-select-31fffcb1.js";import{I as Ba,__tla as Ea}from"./InputPassword-80bdf34a.js";import{_ as Fa,__tla as La}from"./style.css_vue_type_style_index_0_src_true_lang-6520cd5b.js";import{_ as Na,__tla as Da}from"./UploadImg-8f1eb75b.js";import{_ as Wa,__tla as $a}from"./UploadImgs-9ed1274f.js";import{_ as Ka,__tla as Aa}from"./UploadFile-c46c4ea0.js";import{_ as Ha}from"./_plugin-vue_export-helper-1b428a4d.js";let Ft,de,Ua=Promise.all([(()=>{try{return Sa}catch{}})(),(()=>{try{return Ma}catch{}})(),(()=>{try{return za}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return Ea}catch{}})(),(()=>{try{return La}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return $a}catch{}})(),(()=>{try{return Aa}catch{}})()]).then(async()=>{const Lt={[kt]:"deltaX",[ya]:"deltaY"},Ze=({name:e,getOffset:l,getItemSize:i,getItemOffset:n,getEstimatedTotalSize:p,getStartIndexForOffset:r,getStopIndexForStartIndex:c,initCache:o,clearCache:S,validateProps:D})=>ge({name:e??"ElVirtualList",props:xa,emits:[Mt,_t],setup(f,{emit:C,expose:t}){D(f);const V=dl(),y=Se("vl"),M=$(o(f,V)),h=Va(),u=$(),d=$(),I=$(),m=$({isScrolling:!1,scrollDir:"forward",scrollOffset:Pe(f.initScrollOffset)?f.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:f.scrollbarAlwaysOn}),w=T(()=>{const{total:g,cache:z}=f,{isScrolling:B,scrollDir:H,scrollOffset:R}=x(m);if(g===0)return[0,0,0,0];const F=r(f,R,x(M)),U=c(f,F,R,x(M)),j=B&&H!==Ca?1:Math.max(1,z),te=B&&H!==Oa?1:Math.max(1,z);return[Math.max(0,F-j),Math.max(0,Math.min(g-1,U+te)),F,U]}),_=T(()=>p(f,x(M))),b=T(()=>Me(f.layout)),O=T(()=>[{position:"relative",["overflow-"+(b.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:f.direction,height:Pe(f.height)?`${f.height}px`:f.height,width:Pe(f.width)?`${f.width}px`:f.width},f.style]),K=T(()=>{const g=x(_),z=x(b);return{height:z?"100%":`${g}px`,pointerEvents:x(m).isScrolling?"none":void 0,width:z?`${g}px`:"100%"}}),P=T(()=>b.value?f.width:f.height),{onWheel:W}=(({atEndEdge:g,atStartEdge:z,layout:B},H)=>{let R,F=0;const U=j=>j<0&&z.value||j>0&&g.value;return{hasReachedEdge:U,onWheel:j=>{rl(R);const te=j[Lt[B.value]];U(F)&&U(F+te)||(F+=te,cl()||j.preventDefault(),R=ul(()=>{H(F),F=0}))}}})({atStartEdge:T(()=>m.value.scrollOffset<=0),atEndEdge:T(()=>m.value.scrollOffset>=_.value),layout:T(()=>f.layout)},g=>{var z,B;(B=(z=I.value).onMouseUp)==null||B.call(z),q(Math.min(m.value.scrollOffset+g,_.value-P.value))}),A=()=>{const{total:g}=f;if(g>0){const[R,F,U,j]=x(w);C(Mt,R,F,U,j)}const{scrollDir:z,scrollOffset:B,updateRequested:H}=x(m);C(_t,z,B,H)},q=g=>{(g=Math.max(g,0))!==x(m).scrollOffset&&(m.value={...x(m),scrollOffset:g,scrollDir:Je(x(m).scrollOffset,g),updateRequested:!0},Y(ae))},ie=(g,z=Ye)=>{const{scrollOffset:B}=x(m);g=Math.max(0,Math.min(g,f.total-1)),q(l(f,g,z,B,x(M)))},ae=()=>{m.value.isScrolling=!1,Y(()=>{h.value(-1,null,null)})},ee=()=>{const g=u.value;g&&(g.scrollTop=0)};He(()=>{if(!pl)return;const{initScrollOffset:g}=f,z=x(u);Pe(g)&&z&&(x(b)?z.scrollLeft=g:z.scrollTop=g),A()}),ml(()=>{const{direction:g,layout:z}=f,{scrollOffset:B,updateRequested:H}=x(m),R=x(u);if(H&&R)if(z===kt)if(g===Xe)switch(zt()){case Rt:R.scrollLeft=-B;break;case Ia:R.scrollLeft=B;break;default:{const{clientWidth:F,scrollWidth:U}=R;R.scrollLeft=U-F-B;break}}else R.scrollLeft=B;else R.scrollTop=B});const ve={ns:y,clientSize:P,estimatedTotalSize:_,windowStyle:O,windowRef:u,innerRef:d,innerStyle:K,itemsToRender:w,scrollbarRef:I,states:m,getItemStyle:g=>{const{direction:z,itemSize:B,layout:H}=f,R=h.value(S&&B,S&&H,S&&z);let F;if(fl(R,String(g)))F=R[g];else{const U=n(f,g,x(M)),j=i(f,g,x(M)),te=x(b),Ve=z===Xe,be=te?U:0;R[g]=F={position:"absolute",left:Ve?void 0:`${be}px`,right:Ve?`${be}px`:void 0,top:te?0:`${U}px`,height:te?"100%":`${j}px`,width:te?`${j}px`:"100%"}}return F},onScroll:g=>{x(b)?(z=>{const{clientWidth:B,scrollLeft:H,scrollWidth:R}=z.currentTarget,F=x(m);if(F.scrollOffset===H)return;const{direction:U}=f;let j=H;if(U===Xe)switch(zt()){case Rt:j=-H;break;case Ta:j=R-B-H}j=Math.max(0,Math.min(j,R-B)),m.value={...F,isScrolling:!0,scrollDir:Je(F.scrollOffset,j),scrollOffset:j,updateRequested:!1},Y(ae)})(g):(z=>{const{clientHeight:B,scrollHeight:H,scrollTop:R}=z.currentTarget,F=x(m);if(F.scrollOffset===R)return;const U=Math.max(0,Math.min(R,H-B));m.value={...F,isScrolling:!0,scrollDir:Je(F.scrollOffset,U),scrollOffset:U,updateRequested:!1},Y(ae)})(g),A()},onScrollbarScroll:(g,z)=>{const B=(_.value-P.value)/z*g;q(Math.min(_.value-P.value,B))},onWheel:W,scrollTo:q,scrollToItem:ie,resetScrollTop:ee};return t({windowRef:u,innerRef:d,getItemStyleCache:h,scrollTo:q,scrollToItem:ie,resetScrollTop:ee,states:m}),ve},render(f){var C;const{$slots:t,className:V,clientSize:y,containerElement:M,data:h,getItemStyle:u,innerElement:d,itemsToRender:I,innerStyle:m,layout:w,total:_,onScroll:b,onScrollbarScroll:O,onWheel:K,states:P,useIsScrolling:W,windowStyle:A,ns:q}=f,[ie,ae]=I,ee=Ce(M),ve=Ce(d),g=[];if(_>0)for(let R=ie;R<=ae;R++)g.push((C=t.default)==null?void 0:C.call(t,{data:h,key:R,index:R,isScrolling:W?P.isScrolling:void 0,style:u(R)}));const z=[Be(ve,{style:m,ref:"innerRef"},St(ve)?g:{default:()=>g})],B=Be(wa,{ref:"scrollbarRef",clientSize:y,layout:w,onScroll:O,ratio:100*y/this.estimatedTotalSize,scrollFrom:P.scrollOffset/(this.estimatedTotalSize-y),total:_}),H=Be(ee,{class:[q.e("window"),V],style:A,onScroll:b,onWheel:K,ref:"windowRef",key:0},St(ee)?[z]:{default:()=>[z]});return Be("div",{key:0,class:[q.e("wrapper"),P.scrollbarAlwaysOn?"always-on":""]},[H,B])}}),Nt=Ze({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:i,layout:n,width:p},r,c,o)=>{const S=Me(n)?p:e,D=Math.max(0,l*i-S),f=Math.min(D,r*i),C=Math.max(0,(r+1)*i-S);switch(c===Et&&(c=o>=C-S&&o<=f+S?Ye:Le),c){case Bt:return f;case Pt:return C;case Le:{const t=Math.round(C+(f-C)/2);return t<Math.ceil(S/2)?0:t>D+Math.floor(S/2)?D:t}default:return o>=C&&o<=f?o:o<C?C:f}},getStartIndexForOffset:({total:e,itemSize:l},i)=>Math.max(0,Math.min(e-1,Math.floor(i/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:i,layout:n,width:p},r,c)=>{const o=r*i,S=Me(n)?p:e,D=Math.ceil((S+c-o)/i);return Math.max(0,Math.min(l-1,r+D-1))},initCache(){},clearCache:!0,validateProps(){}}),he=(e,l,i)=>{const{itemSize:n}=e,{items:p,lastVisitedIndex:r}=i;if(l>r){let c=0;if(r>=0){const o=p[r];c=o.offset+o.size}for(let o=r+1;o<=l;o++){const S=n(o);p[o]={offset:c,size:S},c+=S}i.lastVisitedIndex=l}return p[l]},et=(e,l,i,n,p)=>{for(;i<=n;){const r=i+Math.floor((n-i)/2),c=he(e,r,l).offset;if(c===p)return r;c<p?i=r+1:c>p&&(n=r-1)}return Math.max(0,i-1)},Dt=(e,l,i,n)=>{const{total:p}=e;let r=1;for(;i<p&&he(e,i,l).offset<n;)i+=r,r*=2;return et(e,l,Math.floor(i/2),Math.min(i,p-1),n)},tt=({total:e},{items:l,estimatedItemSize:i,lastVisitedIndex:n})=>{let p=0;if(n>=e&&(n=e-1),n>=0){const r=l[n];p=r.offset+r.size}return p+(e-n-1)*i},Wt=Ze({name:"ElDynamicSizeList",getItemOffset:(e,l,i)=>he(e,l,i).offset,getItemSize:(e,l,{items:i})=>i[l].size,getEstimatedTotalSize:tt,getOffset:(e,l,i,n,p)=>{const{height:r,layout:c,width:o}=e,S=Me(c)?o:r,D=he(e,l,p),f=tt(e,p),C=Math.max(0,Math.min(f-S,D.offset)),t=Math.max(0,D.offset-S+D.size);switch(i===Et&&(i=n>=t-S&&n<=C+S?Ye:Le),i){case Bt:return C;case Pt:return t;case Le:return Math.round(t+(C-t)/2);default:return n>=t&&n<=C?n:n<t?t:C}},getStartIndexForOffset:(e,l,i)=>((n,p,r)=>{const{items:c,lastVisitedIndex:o}=p;return(o>0?c[o].offset:0)>=r?et(n,p,0,o,r):Dt(n,p,Math.max(0,o),r)})(e,i,l),getStopIndexForStartIndex:(e,l,i,n)=>{const{height:p,total:r,layout:c,width:o}=e,S=Me(c)?o:p,D=he(e,l,n),f=i+S;let C=D.offset+D.size,t=l;for(;t<r-1&&C<f;)t++,C+=he(e,t,n).size;return t},initCache({estimatedItemSize:e=ka},l){const i={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(n,p=!0)=>{var r,c;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,n-1),(r=l.exposed)==null||r.getItemStyleCache(-1),p&&((c=l.proxy)==null||c.$forceUpdate())}};return i},clearCache:!1,validateProps:({itemSize:e})=>{}});var $t=Ue(ge({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:Se("select")})}),[["render",function(e,l,i,n,p,r){return e.item.isTitle?(N(),G("div",{key:0,class:E(e.ns.be("group","title")),style:se([e.style,{lineHeight:`${e.height}px`}])},le(e.item.label),7)):(N(),G("div",{key:1,class:E(e.ns.be("group","split")),style:se(e.style)},[Q("span",{class:E(e.ns.be("group","split-dash")),style:se({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const Kt={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:hl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:vl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:bl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:gl(String),values:Sl,default:"bottom-start"}},At={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Ht=ge({props:At,emits:["select","hover"],setup(e,{emit:l}){const i=Se("select"),{hoverItem:n,selectOptionClick:p}=function(r,{emit:c}){return{hoverItem:()=>{r.disabled||c("hover",r.index)},selectOptionClick:()=>{r.disabled||c("select",r.item,r.index)}}}(e,{emit:l});return{ns:i,hoverItem:n,selectOptionClick:p}}}),Ut=["aria-selected"];var jt=Ue(Ht,[["render",function(e,l,i,n,p,r){return N(),G("li",{"aria-selected":e.selected,style:se(e.style),class:E([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:l[0]||(l[0]=(...c)=>e.hoverItem&&e.hoverItem(...c)),onClick:l[1]||(l[1]=Z((...c)=>e.selectOptionClick&&e.selectOptionClick(...c),["stop"]))},[Ee(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Q("span",null,le(e.item.label),1)])],46,Ut)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const lt=Symbol("ElSelectV2Injection");var qt=ge({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:l,expose:i}){const n=yl(lt),p=Se("select"),r=$([]),c=$(),o=T(()=>e.data.length);me(()=>o.value,()=>{var u,d;(d=(u=n.popper.value).updatePopper)==null||d.call(u)});const S=T(()=>xl(n.props.estimatedOptionHeight)),D=T(()=>S.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:u=>r.value[u]}),f=(u,d)=>n.props.multiple?((I=[],m)=>{const{props:{valueKey:w}}=n;return Oe(m)?I&&I.some(_=>Vl(fe(_,w))===fe(m,w)):I.includes(m)})(u,d.value):((I,m)=>{if(Oe(m)){const{valueKey:w}=n.props;return fe(I,w)===fe(m,w)}return I===m})(u,d.value),C=(u,d)=>{const{disabled:I,multiple:m,multipleLimit:w}=n.props;return I||!d&&!!m&&w>0&&u.length>=w},t=u=>e.hoveringIndex===u;i({listRef:c,isSized:S,isItemDisabled:C,isItemHovering:t,isItemSelected:f,scrollToItem:u=>{const d=c.value;d&&d.scrollToItem(u)},resetScrollTop:()=>{const u=c.value;u&&u.resetScrollTop()}});const V=u=>{const{index:d,data:I,style:m}=u,w=x(S),{itemSize:_,estimatedSize:b}=x(D),{modelValue:O}=n.props,{onSelect:K,onHover:P}=n,W=I[d];if(W.type==="Group")return L($t,{item:W,style:m,height:w?_:b},null);const A=f(O,W),q=C(O,A),ie=t(d);return L(jt,re(u,{selected:A,disabled:W.disabled||q,created:!!W.created,hovering:ie,item:W,onSelect:K,onHover:P}),{default:ae=>{var ee;return((ee=l.default)==null?void 0:ee.call(l,ae))||L("span",null,[W.label])}})},{onKeyboardNavigate:y,onKeyboardSelect:M}=n,h=u=>{const{code:d}=u,{tab:I,esc:m,down:w,up:_,enter:b}=Il;switch(d!==I&&(u.preventDefault(),u.stopPropagation()),d){case I:case m:n.expanded=!1;break;case w:y("forward");break;case _:y("backward");break;case b:M()}};return()=>{var u;const{data:d,width:I}=e,{height:m,multiple:w,scrollbarAlwaysOn:_}=n.props;if(d.length===0)return L("div",{class:p.b("dropdown"),style:{width:`${I}px`}},[(u=l.empty)==null?void 0:u.call(l)]);const b=x(S)?Nt:Wt;return L("div",{class:[p.b("dropdown"),p.is("multiple",w)]},[L(b,re({ref:c},x(D),{className:p.be("dropdown","list"),scrollbarAlwaysOn:_,data:d,height:m,width:I,total:d.length,onKeydown:h}),{default:O=>L(V,O,null)})])}}});function Gt(e,l){const i=$(0),n=$(null),p=T(()=>e.allowCreate&&e.filterable);return{createNewOption:function(r){if(p.value)if(r&&r.length>0&&!function(c){const o=S=>S.value===c;return e.options&&e.options.some(o)||l.createdOptions.some(o)}(r)){const c={value:r,label:r,created:!0,disabled:!1};l.createdOptions.length>=i.value?l.createdOptions[i.value]=c:l.createdOptions.push(c)}else if(e.multiple)l.createdOptions.length=i.value;else{const c=n.value;l.createdOptions.length=0,c&&c.created&&l.createdOptions.push(c)}},removeNewOption:function(r){if(!p.value||!r||!r.created||r.created&&e.reserveKeyword&&l.inputValue===r.label)return;const c=l.createdOptions.findIndex(o=>o.value===r.value);~c&&(l.createdOptions.splice(c,1),i.value--)},selectNewOption:function(r){p.value&&(e.multiple&&r.created?i.value++:n.value=r)},clearAllNewOption:function(){p.value&&(l.createdOptions.length=0,i.value=0)}}}const Qt={larget:51,default:42,small:33},Xt=(e,l)=>{const{t:i}=Cl(),n=Se("select-v2"),p=Se("input"),{form:r,formItem:c}=Ol(),o=qe({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),S=$(-1),D=$(-1),f=$(null),C=$(null),t=$(null),V=$(null),y=$(null),M=$(null),h=$(null),u=$(!1),d=T(()=>e.disabled||(r==null?void 0:r.disabled)),I=T(()=>{const a=34*A.value.length;return a>e.height?e.height:a}),m=T(()=>!yt(e.modelValue)),w=T(()=>{const a=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:m.value;return e.clearable&&!d.value&&o.comboBoxHovering&&a}),_=T(()=>e.remote&&e.filterable?"":Tl),b=T(()=>_.value&&n.is("reverse",u.value)),O=T(()=>(c==null?void 0:c.validateState)||""),K=T(()=>kl[O.value]),P=T(()=>e.remote?300:0),W=T(()=>{const a=A.value;return e.loading?e.loadingText||i("el.select.loading"):(!e.remote||o.inputValue!==""||a.length!==0)&&(e.filterable&&o.inputValue&&a.length>0?e.noMatchText||i("el.select.noMatch"):a.length===0?e.noDataText||i("el.select.noData"):null)}),A=T(()=>{const a=s=>{const v=o.inputValue,k=new RegExp(Pl(v),"i");return!v||k.test(s.label||"")};return e.loading?[]:(s=>{const v=[];return s.forEach(k=>{Te(k.options)?(v.push({label:k.label,isTitle:!0,type:"Group"}),k.options.forEach(X=>{v.push(X)}),v.push({type:"Group"})):v.push(k)}),v})(e.options.concat(o.createdOptions).map(s=>{if(Te(s.options)){const v=s.options.filter(a);if(v.length>0)return{...s,options:v}}else if(e.remote||a(s))return s;return null}).filter(s=>s!==null))}),q=T(()=>{const a=new Map;return A.value.forEach((s,v)=>{a.set(we(s.value),{option:s,index:v})}),a}),ie=T(()=>A.value.every(a=>a.disabled)),ae=Ml(),ee=T(()=>ae.value==="small"?"small":"default"),ve=T(()=>{const a=M.value,s=ee.value||"default",v=a?Number.parseInt(getComputedStyle(a).paddingLeft):0,k=a?Number.parseInt(getComputedStyle(a).paddingRight):0;return o.selectWidth-k-v-Qt[s]}),g=()=>{var a;D.value=((a=y.value)==null?void 0:a.offsetWidth)||200},z=T(()=>({width:`${o.calculatedWidth===0?11:Math.ceil(o.calculatedWidth)+11}px`})),B=T(()=>Te(e.modelValue)?e.modelValue.length===0&&!o.displayInputValue:!e.filterable||o.displayInputValue.length===0),H=T(()=>{const a=e.placeholder||i("el.select.placeholder");return e.multiple||yt(e.modelValue)?a:o.selectedLabel}),R=T(()=>{var a,s;return(s=(a=V.value)==null?void 0:a.popperRef)==null?void 0:s.contentRef}),F=T(()=>{if(e.multiple){const a=e.modelValue.length;if(e.modelValue.length>0&&q.value.has(e.modelValue[a-1])){const{index:s}=q.value.get(e.modelValue[a-1]);return s}}else if(e.modelValue&&q.value.has(e.modelValue)){const{index:a}=q.value.get(e.modelValue);return a}return-1}),U=T({get:()=>u.value&&W.value!==!1,set(a){u.value=a}}),j=T(()=>o.cachedOptions.slice(0,e.maxCollapseTags)),te=T(()=>o.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:Ve,removeNewOption:be,selectNewOption:it,clearAllNewOption:De}=Gt(e,o),{handleCompositionStart:al,handleCompositionUpdate:ol,handleCompositionEnd:sl}=function(a){const s=$(!1);return{handleCompositionStart:()=>{s.value=!0},handleCompositionUpdate:v=>{const k=v.target.value,X=k[k.length-1]||"";s.value=!wl(X)},handleCompositionEnd:v=>{s.value&&(s.value=!1,je(a)&&a(v))}}}(a=>gt(a)),rt=()=>{var a,s,v;(s=(a=C.value)==null?void 0:a.focus)==null||s.call(a),(v=V.value)==null||v.updatePopper()},We=()=>{if(!e.automaticDropdown)return d.value?void 0:(o.isComposing&&(o.softFocus=!0),Y(()=>{var a,s;u.value=!u.value,(s=(a=C.value)==null?void 0:a.focus)==null||s.call(a)}))},ct=()=>(e.filterable&&o.inputValue!==o.selectedLabel&&(o.query=o.selectedLabel),dt(o.inputValue),Y(()=>{Ve(o.inputValue)})),ut=_l(ct,P.value),dt=a=>{o.previousQuery!==a&&(o.previousQuery=a,e.filterable&&je(e.filterMethod)?e.filterMethod(a):e.filterable&&e.remote&&je(e.remoteMethod)&&e.remoteMethod(a))},Ie=a=>{l(Vt,a),(s=>{xt(e.modelValue,s)||l(It,s)})(a),o.previousValue=a==null?void 0:a.toString()},pt=(a=[],s)=>{if(!Oe(s))return a.indexOf(s);const v=e.valueKey;let k=-1;return a.some((X,oe)=>fe(X,v)===fe(s,v)&&(k=oe,!0)),k},we=a=>Oe(a)?fe(a,e.valueKey):a,$e=()=>Y(()=>{var a,s;if(!C.value)return;const v=M.value;y.value.height=v.offsetHeight,u.value&&W.value!==!1&&((s=(a=V.value)==null?void 0:a.updatePopper)==null||s.call(a))}),mt=()=>{var a,s;if(nl(),g(),(s=(a=V.value)==null?void 0:a.updatePopper)==null||s.call(a),e.multiple)return $e()},nl=()=>{const a=M.value;a&&(o.selectWidth=a.getBoundingClientRect().width)},ft=(a,s,v=!0)=>{var k,X;if(e.multiple){let oe=e.modelValue.slice();const Re=pt(oe,a.value);Re>-1?(oe=[...oe.slice(0,Re),...oe.slice(Re+1)],o.cachedOptions.splice(Re,1),be(a)):(e.multipleLimit<=0||oe.length<e.multipleLimit)&&(oe=[...oe,a.value],o.cachedOptions.push(a),it(a),pe(s)),Ie(oe),a.created&&(o.query="",dt(""),o.inputLength=20),e.filterable&&!e.reserveKeyword&&((X=(k=C.value).focus)==null||X.call(k),ze("")),e.filterable&&(o.calculatedWidth=h.value.getBoundingClientRect().width),$e(),il()}else S.value=s,o.selectedLabel=a.label,Ie(a.value),u.value=!1,o.isComposing=!1,o.isSilentBlur=v,it(a),a.created||De(),pe(s)},ht=a=>(o.softFocus=!1,Y(()=>{var s,v;(v=(s=C.value)==null?void 0:s.blur)==null||v.call(s),h.value&&(o.calculatedWidth=h.value.getBoundingClientRect().width),o.isSilentBlur?o.isSilentBlur=!1:o.isComposing&&l("blur",a),o.isComposing=!1})),ze=a=>{o.displayInputValue=a,o.inputValue=a},vt=(a,s=void 0)=>{const v=A.value;if(!["forward","backward"].includes(a)||d.value||v.length<=0||ie.value)return;if(!u.value)return We();s===void 0&&(s=o.hoveringIndex);let k=-1;a==="forward"?(k=s+1,k>=v.length&&(k=0)):a==="backward"&&(k=s-1,(k<0||k>=v.length)&&(k=v.length-1));const X=v[k];if(X.disabled||X.type==="Group")return vt(a,k);pe(k),Ke(k)},pe=a=>{o.hoveringIndex=a},bt=()=>{o.hoveringIndex=-1},il=()=>{var a;const s=C.value;s&&((a=s.focus)==null||a.call(s))},gt=a=>{const s=a.target.value;if(ze(s),o.displayInputValue.length>0&&!u.value&&(u.value=!0),o.calculatedWidth=h.value.getBoundingClientRect().width,e.multiple&&$e(),!e.remote)return ct();ut()},Ke=a=>{t.value.scrollToItem(a)},Ae=()=>{if(bt(),e.multiple)if(e.modelValue.length>0){let a=!1;o.cachedOptions.length=0,o.previousValue=e.modelValue.toString();for(const s of e.modelValue){const v=we(s);if(q.value.has(v)){const{index:k,option:X}=q.value.get(v);o.cachedOptions.push(X),a||pe(k),a=!0}}}else o.cachedOptions=[],o.previousValue=void 0;else if(m.value){o.previousValue=e.modelValue;const a=A.value,s=a.findIndex(v=>we(v.value)===we(e.modelValue));~s?(o.selectedLabel=a[s].label,pe(s)):o.selectedLabel=`${e.modelValue}`}else o.selectedLabel="",o.previousValue=void 0;De(),g()};return me(u,a=>{var s,v;l("visible-change",a),a?(v=(s=V.value).update)==null||v.call(s):(o.displayInputValue="",o.previousQuery=null,Ve(""))}),me(()=>e.modelValue,(a,s)=>{var v;a&&a.toString()===o.previousValue||Ae(),!xt(a,s)&&e.validateEvent&&((v=c==null?void 0:c.validate)==null||v.call(c,"change").catch(k=>zl()))},{deep:!0}),me(()=>e.options,()=>{const a=C.value;(!a||a&&document.activeElement!==a)&&Ae()},{deep:!0}),me(A,()=>t.value&&Y(t.value.resetScrollTop)),me(()=>U.value,a=>{a||bt()}),He(()=>{Ae()}),Rl(y,mt),{collapseTagSize:ee,currentPlaceholder:H,expanded:u,emptyText:W,popupHeight:I,debounce:P,filteredOptions:A,iconComponent:_,iconReverse:b,inputWrapperStyle:z,popperSize:D,dropdownMenuVisible:U,hasModelValue:m,shouldShowPlaceholder:B,selectDisabled:d,selectSize:ae,showClearBtn:w,states:o,tagMaxWidth:ve,nsSelectV2:n,nsInput:p,calculatorRef:h,controlRef:f,inputRef:C,menuRef:t,popper:V,selectRef:y,selectionRef:M,popperRef:R,validateState:O,validateIcon:K,showTagList:j,collapseTagList:te,debouncedOnInputChange:ut,deleteTag:(a,s)=>{let v=e.modelValue.slice();const k=pt(v,s.value);if(k>-1&&!d.value)return v=[...e.modelValue.slice(0,k),...e.modelValue.slice(k+1)],o.cachedOptions.splice(k,1),Ie(v),l("remove-tag",s.value),o.softFocus=!0,be(s),Y(rt);a.stopPropagation()},getLabel:a=>Oe(a)?a.label:a,getValueKey:we,handleBlur:ht,handleClear:()=>{let a;return a=Te(e.modelValue)?[]:void 0,o.softFocus=!0,e.multiple?o.cachedOptions=[]:o.selectedLabel="",u.value=!1,Ie(a),l("clear"),De(),Y(rt)},handleClickOutside:()=>(u.value=!1,ht()),handleDel:a=>{if(o.displayInputValue.length===0){a.preventDefault();const s=e.modelValue.slice();s.pop(),be(o.cachedOptions.pop()),Ie(s)}},handleEsc:()=>{o.displayInputValue.length>0?ze(""):u.value=!1},handleFocus:a=>{const s=o.isComposing;o.isComposing=!0,o.softFocus?o.softFocus=!1:s||l("focus",a)},handleMenuEnter:()=>(o.inputValue=o.displayInputValue,Y(()=>{~F.value&&(pe(F.value),Ke(o.hoveringIndex))})),handleResize:mt,toggleMenu:We,scrollTo:Ke,onInput:gt,onKeyboardNavigate:vt,onKeyboardSelect:()=>{if(!u.value)return We();~o.hoveringIndex&&A.value[o.hoveringIndex]&&ft(A.value[o.hoveringIndex],o.hoveringIndex,!1)},onSelect:ft,onHover:pe,onUpdateInputValue:ze,handleCompositionStart:al,handleCompositionEnd:sl,handleCompositionUpdate:ol}},Jt=ge({name:"ElSelectV2",components:{ElSelectMenu:qt,ElTag:Bl,ElTooltip:wt,ElIcon:El},directives:{ClickOutside:Fl,ModelText:Ll},props:Kt,emits:[Vt,It,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:l}){const i=T(()=>{const{modelValue:p,multiple:r}=e,c=r?[]:void 0;return Te(p)?r?p:c:r?c:p}),n=Xt(qe({...Ct(e),modelValue:i}),l);return Nl(lt,{props:qe({...Ct(e),height:n.popupHeight,modelValue:i}),popper:n.popper,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:i}}}),Yt={key:0},Zt=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],el=["textContent"],tl=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],ll=["textContent"];var _e=Ue(Jt,[["render",function(e,l,i,n,p,r){const c=Fe("el-tag"),o=Fe("el-tooltip"),S=Fe("el-icon"),D=Fe("el-select-menu"),f=Ge("model-text"),C=Ge("click-outside");return ye((N(),G("div",{ref:"selectRef",class:E([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:l[24]||(l[24]=Z((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"])),onMouseenter:l[25]||(l[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:l[26]||(l[26]=t=>e.states.comboBoxHovering=!1)},[L(o,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:l[23]||(l[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:J(()=>[Q("div",{ref:"selectionRef",class:E([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(N(),G("div",Yt,[Ee(e.$slots,"prefix")])):ce("v-if",!0),e.multiple?(N(),G("div",{key:1,class:E(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(N(),G(xe,{key:0},[(N(!0),G(xe,null,Qe(e.showTagList,t=>(N(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[L(c,{closable:!e.selectDisabled&&!(t!=null&&t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:J(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(t==null?void 0:t.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Q("div",{class:E(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(N(),ue(c,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:J(()=>[e.collapseTagsTooltip?(N(),ue(o,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:J(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7)]),content:J(()=>[Q("div",{class:E(e.nsSelectV2.e("selection"))},[(N(!0),G(xe,null,Qe(e.collapseTagList,t=>(N(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[L(c,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:J(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(N(),G("span",{key:1,class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):ce("v-if",!0)],2)],64)):(N(!0),G(xe,{key:1},Qe(e.states.cachedOptions,t=>(N(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[L(c,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:J(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Q("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:se(e.inputWrapperStyle)},[ye(Q("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:E([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":l[0]||(l[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:l[1]||(l[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[2]||(l[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[3]||(l[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:l[4]||(l[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[5]||(l[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[6]||(l[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[l[7]||(l[7]=ne(Z(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[8]||(l[8]=ne(Z(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[9]||(l[9]=ne(Z((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[10]||(l[10]=ne(Z((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"])),l[11]||(l[11]=ne(Z((...t)=>e.handleDel&&e.handleDel(...t),["stop"]),["delete"]))]},null,42,Zt),[[f,e.states.displayInputValue]]),e.filterable?(N(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E(e.nsSelectV2.e("input-calculator")),textContent:le(e.states.displayInputValue)},null,10,el)):ce("v-if",!0)],6)],2)):(N(),G(xe,{key:2},[Q("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[ye(Q("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:E(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:l[12]||(l[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[13]||(l[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[14]||(l[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:l[15]||(l[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[16]||(l[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[17]||(l[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[l[18]||(l[18]=ne(Z(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[19]||(l[19]=ne(Z(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[20]||(l[20]=ne(Z((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[21]||(l[21]=ne(Z((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":l[22]||(l[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,tl),[[f,e.states.displayInputValue]])],2),e.filterable?(N(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:le(e.states.displayInputValue)},null,10,ll)):ce("v-if",!0)],64)),e.shouldShowPlaceholder?(N(),G("span",{key:3,class:E([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},le(e.currentPlaceholder),3)):ce("v-if",!0),Q("span",{class:E(e.nsSelectV2.e("suffix"))},[e.iconComponent?ye((N(),ue(S,{key:0,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:J(()=>[(N(),ue(Ce(e.iconComponent)))]),_:1},8,["class"])),[[Dl,!e.showClearBtn]]):ce("v-if",!0),e.showClearBtn&&e.clearIcon?(N(),ue(S,{key:1,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:Z(e.handleClear,["prevent","stop"])},{default:J(()=>[(N(),ue(Ce(e.clearIcon)))]),_:1},8,["class","onClick"])):ce("v-if",!0),e.validateState&&e.validateIcon?(N(),ue(S,{key:2,class:E([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:J(()=>[(N(),ue(Ce(e.validateIcon)))]),_:1},8,["class"])):ce("v-if",!0)],2)],2)]),content:J(()=>[L(D,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:J(t=>[Ee(e.$slots,"default",Wl($l(t)))]),empty:J(()=>[Ee(e.$slots,"empty",{},()=>[Q("p",{class:E(e.nsSelectV2.e("empty"))},le(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[C,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);_e.install=e=>{e.component(_e.name,_e)};let Ne,at;Ne={Radio:Ot,Checkbox:Tt,CheckboxButton:Tt,Input:Kl,Autocomplete:Al,InputNumber:Hl,Select:Ul,Cascader:jl,Switch:ql,Slider:Gl,TimePicker:Ql,DatePicker:Xl,Rate:Jl,ColorPicker:Yl,Transfer:Zl,Divider:ea,TimeSelect:Ra,SelectV2:_e,TreeSelect:_a,RadioButton:Ot,InputPassword:Ba,Editor:Fa,UploadImg:Na,UploadImgs:Wa,UploadFile:Ka},de=(e,l="default",i)=>{if(!e||!Reflect.has(e,l)||!ta(e[l]))return null;const n=e[l];return n?n(i):null},at=(e,l={},i)=>{const n={};for(const p in l)l[p]&&(n[p]=r=>de(e,`${i}-${p}`,r));return n};function ot(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ga(e)}let st,nt;({getPrefixCls:st}=da()),nt=st("form"),Ft=Ha(ge({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:ke.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:ke.bool.def(!0),isCustom:ke.bool.def(!1),labelWidth:ke.oneOfType([String,Number]).def("auto"),vLoading:ke.bool.def(!1)},emits:["register"],setup(e,{slots:l,expose:i,emit:n}){const p=$(),r=$({}),c=$({}),o=T(()=>{const t={...e};return Object.assign(t,x(c)),t}),S=$({});He(()=>{var t;n("register",(t=x(p))==null?void 0:t.$parent,x(p))}),i({setValues:(t={})=>{S.value=Object.assign(x(S),t)},formModel:S,setProps:(t={})=>{c.value=Object.assign(x(c),t),r.value=t},delSchema:t=>{const{schema:V}=x(o),y=pa(V,M=>M.field===t);y>-1&&V.splice(y,1)},addSchema:(t,V)=>{const{schema:y}=x(o);V===void 0?y.push(t):y.splice(V,0,t)},setSchema:t=>{const{schema:V}=x(o);for(const y of V)for(const M of t)y.field===M.field&&ma(y,M.path,M.value)},getElFormRef:()=>x(p)}),me(()=>x(o).schema,(t=[])=>{S.value=((V,y)=>{const M={...y};return V.map(h=>{if(h.hidden)delete M[h.field];else if(h.component&&h.component!=="Divider"){const u=Reflect.has(M,h.field);M[h.field]=u?M[h.field]:h.value!==void 0?h.value:""}}),M})(t,x(S))},{immediate:!0,deep:!0});const D=()=>{const{schema:t=[],isCol:V}=x(o);return t.filter(y=>!y.hidden).map(y=>{let M;return y.component==="Divider"?L(Ne.Divider,{contentPosition:"left",...y.componentProps},{default:()=>[y==null?void 0:y.label]}):V?L(ha,((h={})=>({...h.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...h}))(y.colProps),ot(M=f(y))?M:{default:()=>[M]}):f(y)})},f=t=>{var h,u;const V=["SelectV2","Cascader","Transfer"],y={...at(l,(h=t==null?void 0:t.componentProps)==null?void 0:h.slots,t.field)};(t==null?void 0:t.component)!=="SelectV2"&&(t==null?void 0:t.component)!=="Cascader"&&((u=t==null?void 0:t.componentProps)!=null&&u.options)&&(y.default=()=>C(t));const M=((d,I)=>{const m={};return d[`${I}-error`]&&(m.error=w=>de(d,`${I}-error`,w)),d[`${I}-label`]&&(m.label=w=>de(d,`${I}-label`,w)),m})(l,t.field);return t!=null&&t.labelMessage&&(M.label=()=>L(xe,null,[L("span",null,[t.label]),L(wt,{placement:"right","raw-content":!0},{content:()=>ye(L("span",null,null),[[Ge("dompurify-html"),t.labelMessage]]),default:()=>L(va,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"relative top-1px ml-2px"},null)})])),L(ba,re(t.formItemProps||{},{prop:t.field,label:t.label||""}),{...M,default:()=>{var m,w,_;const d=Ne[t.component],{autoSetPlaceholder:I}=x(o);return l[t.field]?de(l,t.field,S.value):L(d,re({modelValue:S.value[t.field],"onUpdate:modelValue":b=>S.value[t.field]=b},I&&(b=>{var K,P;const{t:O}=la();return["Input","Autocomplete","InputNumber","InputPassword"].includes(b==null?void 0:b.component)?{placeholder:O("common.inputText")+b.label}:["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"].includes(b==null?void 0:b.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(((K=b==null?void 0:b.componentProps)==null?void 0:K.type)||((P=b==null?void 0:b.componentProps)==null?void 0:P.isRange))?{startPlaceholder:O("common.startTimeText"),endPlaceholder:O("common.endTimeText"),rangeSeparator:"-"}:{placeholder:O("common.selectText")+b.label}:{}})(t),(b=>{const O=["ColorPicker"].includes(b.component)?{...b.componentProps}:{clearable:!0,...b.componentProps};return O==null||delete O.slots,O})(t),{style:(m=t.componentProps)==null?void 0:m.style},V.includes(t==null?void 0:t.component)&&((w=t==null?void 0:t.componentProps)!=null&&w.options)?{options:((_=t==null?void 0:t.componentProps)==null?void 0:_.options)||[]}:{}),{...y})}})},C=t=>{switch(t.component){case"Select":case"SelectV2":const{renderSelectOptions:V}=(h=>{const u=(d,I)=>{var K,P,W,A;const m=(P=(K=d==null?void 0:d.componentProps)==null?void 0:K.optionsAlias)==null?void 0:P.labelField,w=(A=(W=d==null?void 0:d.componentProps)==null?void 0:W.optionsAlias)==null?void 0:A.valueField,{label:_,value:b,...O}=I;return L(oa,re(O,{label:m?I[m]:_,value:w?I[w]:b}),{default:()=>{var q;return(q=d==null?void 0:d.componentProps)!=null&&q.optionsSlot?de(h,`${d.field}-option`,{item:I}):void 0}})};return{renderSelectOptions:d=>{var m,w,_,b;const I=(w=(m=d==null?void 0:d.componentProps)==null?void 0:m.optionsAlias)==null?void 0:w.labelField;return(b=(_=d==null?void 0:d.componentProps)==null?void 0:_.options)==null?void 0:b.map(O=>{var K;return(K=O==null?void 0:O.options)!=null&&K.length?L(aa,{label:O[I||"label"]},{default:()=>{var P;return(P=O==null?void 0:O.options)==null?void 0:P.map(W=>u(d,W))}}):u(d,O)})}}})(l);return V(t);case"Radio":case"RadioButton":const{renderRadioOptions:y}={renderRadioOptions:h=>{var m,w,_,b,O,K;const u=(w=(m=h==null?void 0:h.componentProps)==null?void 0:m.optionsAlias)==null?void 0:w.labelField,d=(b=(_=h==null?void 0:h.componentProps)==null?void 0:_.optionsAlias)==null?void 0:b.valueField,I=h.component==="Radio"?sa:na;return(K=(O=h==null?void 0:h.componentProps)==null?void 0:O.options)==null?void 0:K.map(P=>{const{...W}=P;return L(I,re(W,{label:P[d||"value"]}),{default:()=>[P[u||"label"]]})})}};return y(t);case"Checkbox":case"CheckboxButton":const{renderCheckboxOptions:M}={renderCheckboxOptions:h=>{var m,w,_,b,O,K;const u=(w=(m=h==null?void 0:h.componentProps)==null?void 0:m.optionsAlias)==null?void 0:w.labelField,d=(b=(_=h==null?void 0:h.componentProps)==null?void 0:_.optionsAlias)==null?void 0:b.valueField,I=h.component==="Checkbox"?ia:ra;return(K=(O=h==null?void 0:h.componentProps)==null?void 0:O.options)==null?void 0:K.map(P=>{const{...W}=P;return L(I,re(W,{label:P[d||"value"]}),{default:()=>[P[u||"label"]]})})}};return M(t)}};return()=>ye(L(ua,re({ref:p},(()=>{const t=["schema","isCol","autoSetPlaceholder","isCustom","model"],V={...x(o)};for(const y in V)t.indexOf(y)!==-1&&delete V[y];return V})(),{model:e.isCustom?e.model:S,class:nt}),{default:()=>{const{isCustom:t}=x(o);return t?de(l,"default"):(()=>{let V;const{isCol:y}=x(o);return y?L(fa,{gutter:20},ot(V=D())?V:{default:()=>[V]}):D()})()}}),[[ca,e.vLoading]])}}),[["__scopeId","data-v-348f152a"]])});export{Ft as _,Ua as __tla,de as g};
