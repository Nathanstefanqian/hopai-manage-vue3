import{_ as J,__tla as K}from"./Descriptions-81a4e6d8.js";import{d as Q,p as F,r as v,f as W,ax as Y,o as m,c as O,q as w,w as t,a as l,a1 as V,F as b,I as Z,i as a,x as $,k as A,dp as ee,bF as ae,D as te,E as le,n as re,bD as oe,j as R,t as C,aa as se,aj as ne,__tla as ue}from"./index-0d81347e.js";import{_ as me,__tla as de}from"./DictTag.vue_vue_type_script_lang-7ba127bd.js";import{o as ie,__tla as _e}from"./spu.data-d8ef4c2b.js";import{D as c,__tla as ce}from"./dict-d9e0d1ac.js";import{_ as pe,__tla as ve}from"./ActivityOrdersSort.vue_vue_type_script_setup_true_lang-5a7b344e.js";import{u as ye,__tla as fe}from"./useMessage-da459548.js";import{u as he,__tla as ge}from"./useCrudSchemas-911286a8.js";import{r as I,__tla as Ne}from"./formRules-ad0bc375.js";let D,Oe=Promise.all([(()=>{try{return K}catch{}})(),(()=>{try{return ue}catch{}})(),(()=>{try{return de}catch{}})(),(()=>{try{return _e}catch{}})(),(()=>{try{return ce}catch{}})(),(()=>{try{return ve}catch{}})(),(()=>{try{return fe}catch{}})(),(()=>{try{return ge}catch{}})(),(()=>{try{return Ne}catch{}})()]).then(async()=>{D=Q({name:"OtherSettingsForm",__name:"OtherSettingsForm",props:{propFormData:{type:Object,default:()=>{}},activeName:F.string.def(""),isDetail:F.bool.def(!1)},emits:["update:activeName"],setup(y,{expose:E,emit:G}){const x=ye(),{allSchemas:k}=he(ie),S=y,f=v([{dictType:"promotionTypes",label:"\u79D2\u6740",value:1,colorType:"warning",cssClass:""},{dictType:"promotionTypes",label:"\u780D\u4EF7",value:2,colorType:"warning",cssClass:""},{dictType:"promotionTypes",label:"\u62FC\u56E2",value:3,colorType:"warning",cssClass:""}]),h=v(),r=v({sort:1,giveIntegral:1,virtualSalesCount:1,recommendHot:!1,recommendBenefit:!1,recommendBest:!1,recommendNew:!1,recommendGood:!1,activityOrders:[]}),L=W({sort:[I],giveIntegral:[I],virtualSalesCount:[I]}),g=[{name:"\u662F\u5426\u70ED\u5356",value:"recommendHot"},{name:"\u662F\u5426\u4F18\u60E0",value:"recommendBenefit"},{name:"\u662F\u5426\u7CBE\u54C1",value:"recommendBest"},{name:"\u662F\u5426\u65B0\u54C1",value:"recommendNew"},{name:"\u662F\u5426\u4F18\u54C1",value:"recommendGood"}],n=v([]),U=()=>{g.forEach(({value:s})=>{r.value[s]=n.value.includes(s)})};Y(()=>S.propFormData,s=>{s&&(ee(r.value,s),g.forEach(({value:o})=>{r.value[o]&&!n.value.includes(o)&&n.value.push(o)}))},{immediate:!0});const j=G;return E({validate:async()=>{if(h)return await l(h).validate(s=>{if(!s)throw x.warning("\u5546\u54C1\u5176\u4ED6\u8BBE\u7F6E\u672A\u5B8C\u5584\uFF01\uFF01"),j("update:activeName","otherSettings"),new Error("\u5546\u54C1\u5176\u4ED6\u8BBE\u7F6E\u672A\u5B8C\u5584\uFF01\uFF01");Object.assign(S.propFormData,r.value)})}}),(s,o)=>{const N=ae,d=te,u=le,T=re,H=se,q=oe,z=Z,i=me,M=ne,P=J;return m(),O(b,null,[y.isDetail?V("",!0):(m(),w(z,{key:0,ref_key:"otherSettingsFormRef",ref:h,model:l(r),rules:l(L),"label-width":"120px"},{default:t(()=>[a(T,null,{default:t(()=>[a(u,{span:24},{default:t(()=>[a(T,{gutter:20},{default:t(()=>[a(u,{span:8},{default:t(()=>[a(d,{label:"\u5546\u54C1\u6392\u5E8F",prop:"sort"},{default:t(()=>[a(N,{modelValue:l(r).sort,"onUpdate:modelValue":o[0]||(o[0]=e=>l(r).sort=e),min:0},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:8},{default:t(()=>[a(d,{label:"\u8D60\u9001\u79EF\u5206",prop:"giveIntegral"},{default:t(()=>[a(N,{modelValue:l(r).giveIntegral,"onUpdate:modelValue":o[1]||(o[1]=e=>l(r).giveIntegral=e),min:0},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:8},{default:t(()=>[a(d,{label:"\u865A\u62DF\u9500\u91CF",prop:"virtualSalesCount"},{default:t(()=>[a(N,{modelValue:l(r).virtualSalesCount,"onUpdate:modelValue":o[2]||(o[2]=e=>l(r).virtualSalesCount=e),min:0,placeholder:"\u8BF7\u8F93\u5165\u865A\u62DF\u9500\u91CF"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(u,{span:24},{default:t(()=>[a(d,{label:"\u5546\u54C1\u63A8\u8350"},{default:t(()=>[a(q,{modelValue:l(n),"onUpdate:modelValue":o[3]||(o[3]=e=>$(n)?n.value=e:null),onChange:U},{default:t(()=>[(m(),O(b,null,A(g,(e,_)=>a(H,{key:_,label:e.value},{default:t(()=>[R(C(e.name),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:t(()=>[a(d,{label:"\u6D3B\u52A8\u4F18\u5148\u7EA7"},{default:t(()=>[a(pe,{"activity-orders":l(r).activityOrders,"onUpdate:activityOrders":o[4]||(o[4]=e=>l(r).activityOrders=e),"promotion-types":l(f)},null,8,["activity-orders","promotion-types"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),y.isDetail?(m(),w(P,{key:1,data:l(r),schema:l(k).detailSchema},{recommendHot:t(({row:e})=>[a(i,{type:l(c).INFRA_BOOLEAN_STRING,value:e.recommendHot},null,8,["type","value"])]),recommendBenefit:t(({row:e})=>[a(i,{type:l(c).INFRA_BOOLEAN_STRING,value:e.recommendBenefit},null,8,["type","value"])]),recommendBest:t(({row:e})=>[a(i,{type:l(c).INFRA_BOOLEAN_STRING,value:e.recommendBest},null,8,["type","value"])]),recommendNew:t(({row:e})=>[a(i,{type:l(c).INFRA_BOOLEAN_STRING,value:e.recommendNew},null,8,["type","value"])]),recommendGood:t(({row:e})=>[a(i,{type:l(c).INFRA_BOOLEAN_STRING,value:e.recommendGood},null,8,["type","value"])]),activityOrders:t(({row:e})=>[(m(!0),O(b,null,A(e.activityOrders,_=>{var B;return m(),w(M,{key:_,type:(B=l(f).find(p=>p.value===_))==null?void 0:B.colorType,class:"mr-[10px]"},{default:t(()=>{var p;return[R(C((p=l(f).find(X=>X.value===_))==null?void 0:p.label),1)]}),_:2},1032,["type"])}),128))]),_:1},8,["data","schema"])):V("",!0)],64)}}})});export{D as _,Oe as __tla};
