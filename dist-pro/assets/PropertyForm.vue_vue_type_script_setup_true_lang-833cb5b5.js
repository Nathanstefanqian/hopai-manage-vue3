import{d as j,l as B,r as m,f as D,o as V,q as h,w as r,i as c,a,j as b,B as H,x as I,T as L,D as R,I as T,H as z,L as A,__tla as E}from"./index-75dbf65e.js";import{_ as G,__tla as J}from"./Dialog.vue_vue_type_style_index_0_lang-0602d223.js";import{h as K,e as M,i as N,__tla as O}from"./property-7a3c7320.js";import{u as Q,__tla as W}from"./useMessage-116f318e.js";let k,X=Promise.all([(()=>{try{return E}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return W}catch{}})()]).then(async()=>{k=j({name:"ProductPropertyForm",__name:"PropertyForm",emits:["success"],setup(Y,{expose:x,emit:w}){const{t:n}=B(),i=Q(),s=m(!1),_=m(""),u=m(!1),p=m(""),t=m({id:void 0,name:""}),P=D({name:[{required:!0,message:"\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),d=m();x({open:async(l,e)=>{if(s.value=!0,_.value=n("action."+l),p.value=l,U(),e){u.value=!0;try{t.value=await K(e)}finally{u.value=!1}}}});const g=w,F=async()=>{if(d&&await d.value.validate()){u.value=!0;try{const l=t.value;p.value==="create"?(await M(l),i.success(n("common.createSuccess"))):(await N(l),i.success(n("common.updateSuccess"))),s.value=!1,g("success")}finally{u.value=!1}}},U=()=>{var l;t.value={id:void 0,name:""},(l=d.value)==null||l.resetFields()};return(l,e)=>{const f=L,v=R,q=T,y=z,C=G,S=A;return V(),h(C,{modelValue:a(s),"onUpdate:modelValue":e[3]||(e[3]=o=>I(s)?s.value=o:null),title:a(_)},{footer:r(()=>[c(y,{disabled:a(u),type:"primary",onClick:F},{default:r(()=>[b("\u786E \u5B9A")]),_:1},8,["disabled"]),c(y,{onClick:e[2]||(e[2]=o=>s.value=!1)},{default:r(()=>[b("\u53D6 \u6D88")]),_:1})]),default:r(()=>[H((V(),h(q,{ref_key:"formRef",ref:d,model:a(t),rules:a(P),"label-width":"80px"},{default:r(()=>[c(v,{label:"\u540D\u79F0",prop:"name"},{default:r(()=>[c(f,{modelValue:a(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>a(t).name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),c(v,{label:"\u5907\u6CE8",prop:"remark"},{default:r(()=>[c(f,{modelValue:a(t).remark,"onUpdate:modelValue":e[1]||(e[1]=o=>a(t).remark=o),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[S,a(u)]])]),_:1},8,["modelValue","title"])}}})});export{k as _,X as __tla};
