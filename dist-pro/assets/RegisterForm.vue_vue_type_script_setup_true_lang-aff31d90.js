import{_ as E,__tla as I}from"./Form-b7197232.js";import{_ as F,__tla as V}from"./XButton-0c88cf02.js";import{l as f,d as B,b as L,a as o,f as U,r as T,B as j,a0 as z,o as G,q as O,w as p,i,g as m,T as $,__tla as A}from"./index-0d81347e.js";import{u as D,__tla as H}from"./useForm-ddea7b66.js";import{u as J,L as K,_ as M,__tla as N}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang-bae54713.js";let P,Q=Promise.all([(()=>{try{return I}catch{}})(),(()=>{try{return V}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return H}catch{}})(),(()=>{try{return N}catch{}})()]).then(async()=>{let s,u,_,g,h;({t:s}=f()),u=()=>({required:l=>({required:!0,message:l||s("common.required")}),lengthRange:l=>{const{min:e,max:a,message:r}=l;return{min:e,max:a,message:r||s("common.lengthRange",{min:e,max:a})}},notSpace:l=>({validator:(e,a,r)=>{(a==null?void 0:a.indexOf(" "))!==-1?r(new Error(l||s("common.notSpace"))):r()}}),notSpecialCharacters:l=>({validator:(e,a,r)=>{/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/gi.test(a)?r(new Error(l||s("common.notSpecialCharacters"))):r()}})}),_={class:"w-[100%] flex"},g={class:"w-[100%]"},h={class:"mt-15px w-[100%]"},P=B({name:"RegisterForm",__name:"RegisterForm",setup(l){const{t:e}=f(),{required:a}=u(),{register:r,elFormRef:y}=D(),{handleBackLogin:v,getLoginState:b}=J(),R=L(()=>o(b)===K.REGISTER),k=U([{field:"title",colProps:{span:24}},{field:"username",label:e("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:e("login.usernamePlaceholder")}},{field:"password",label:e("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"check_password",label:e("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:e("login.passwordPlaceholder")}},{field:"code",label:e("login.code"),colProps:{span:24}},{field:"register",colProps:{span:24}}]),x={username:[a()],password:[a()],check_password:[a()],code:[a()]},d=T(!1);return(W,n)=>{const q=$,w=F,S=E;return j((G(),O(S,{rules:x,schema:o(k),class:"dark:(border-1 border-[var(--el-border-color)] border-solid)","hide-required-asterisk":"","label-position":"top",size:"large",onRegister:o(r)},{title:p(()=>[i(M,{style:{width:"100%"}})]),code:p(c=>[m("div",_,[i(q,{modelValue:c.code,"onUpdate:modelValue":t=>c.code=t,placeholder:o(e)("login.codePlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]),register:p(()=>[m("div",g,[i(w,{loading:o(d),title:o(e)("login.register"),class:"w-[100%]",type:"primary",onClick:n[0]||(n[0]=c=>(async()=>{const t=o(y);t==null||t.validate(async C=>{if(C)try{d.value=!0}finally{d.value=!1}})})())},null,8,["loading","title"])]),m("div",h,[i(w,{title:o(e)("login.hasUser"),class:"w-[100%]",onClick:n[1]||(n[1]=c=>o(v)())},null,8,["title"])])]),_:1},8,["schema","onRegister"])),[[z,o(R)]])}}})});export{P as _,Q as __tla};
