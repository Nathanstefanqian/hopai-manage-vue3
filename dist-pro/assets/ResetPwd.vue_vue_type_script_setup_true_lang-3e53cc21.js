import{d as b,r as y,f as u,o as h,q as V,w,i as l,a as r,l as q,D as v,I as R,__tla as k}from"./index-0d81347e.js";import{_ as x,__tla as M}from"./XButton-0c88cf02.js";import{I as i,__tla as U}from"./InputPassword-80bdf34a.js";import{a as C,__tla as I}from"./profile-0b38334f.js";import{u as D,__tla as E}from"./useMessage-da459548.js";let p,F=Promise.all([(()=>{try{return k}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return I}catch{}})(),(()=>{try{return E}catch{}})()]).then(async()=>{p=b({name:"ResetPwd",__name:"ResetPwd",setup(S){const{t:s}=q(),_=D(),n=y(),a=u({oldPassword:"",newPassword:"",confirmPassword:""}),f=u({oldPassword:[{required:!0,message:s("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:s("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:s("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:s("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:s("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(c,e,o)=>{a.newPassword!==e?o(new Error(s("profile.password.diffPwd"))):o()},trigger:"blur"}]});return(c,e)=>{const o=v,m=x,P=R;return h(),V(P,{ref_key:"formRef",ref:n,model:r(a),rules:r(f),"label-width":200},{default:w(()=>[l(o,{label:r(s)("profile.password.oldPassword"),prop:"oldPassword"},{default:w(()=>[l(r(i),{modelValue:r(a).oldPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>r(a).oldPassword=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:r(s)("profile.password.newPassword"),prop:"newPassword"},{default:w(()=>[l(r(i),{modelValue:r(a).newPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>r(a).newPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:r(s)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:w(()=>[l(r(i),{modelValue:r(a).confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>r(a).confirmPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,null,{default:w(()=>[l(m,{title:r(s)("common.save"),type:"primary",onClick:e[3]||(e[3]=t=>{var d;(d=r(n))&&d.validate(async g=>{g&&(await C(a.oldPassword,a.newPassword),_.success(s("common.updateSuccess")))})})},null,8,["title"]),l(m,{title:r(s)("common.reset"),type:"danger",onClick:e[4]||(e[4]=t=>{var d;(d=r(n))&&d.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{p as _,F as __tla};
