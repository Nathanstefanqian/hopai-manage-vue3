import{d as b,r as y,b as u,o as h,l as V,w,f as l,a as r,g as v,x as R,A as q,__tla as x}from"./index-e69fb82c.js";import{_ as k,__tla as M}from"./XButton-d92719e7.js";import{I as m,__tla as U}from"./InputPassword-4e507db7.js";import{a as C,__tla as A}from"./profile-3b843105.js";import{u as E,__tla as F}from"./useMessage-ac7e9ad3.js";let p,I=Promise.all([(()=>{try{return x}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return F}catch{}})()]).then(async()=>{p=b({name:"ResetPwd",__name:"ResetPwd",setup(S){const{t:s}=v(),_=E(),n=y(),a=u({oldPassword:"",newPassword:"",confirmPassword:""}),f=u({oldPassword:[{required:!0,message:s("profile.password.oldPwdMsg"),trigger:"blur"},{min:6,max:20,message:s("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:s("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:s("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:s("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(c,e,o)=>{a.newPassword!==e?o(new Error(s("profile.password.diffPwd"))):o()},trigger:"blur"}]});return(c,e)=>{const o=R,i=k,P=q;return h(),V(P,{ref_key:"formRef",ref:n,model:r(a),rules:r(f),"label-width":200},{default:w(()=>[l(o,{label:r(s)("profile.password.oldPassword"),prop:"oldPassword"},{default:w(()=>[l(r(m),{modelValue:r(a).oldPassword,"onUpdate:modelValue":e[0]||(e[0]=t=>r(a).oldPassword=t)},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:r(s)("profile.password.newPassword"),prop:"newPassword"},{default:w(()=>[l(r(m),{modelValue:r(a).newPassword,"onUpdate:modelValue":e[1]||(e[1]=t=>r(a).newPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,{label:r(s)("profile.password.confirmPassword"),prop:"confirmPassword"},{default:w(()=>[l(r(m),{modelValue:r(a).confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=t=>r(a).confirmPassword=t),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(o,null,{default:w(()=>[l(i,{title:r(s)("common.save"),type:"primary",onClick:e[3]||(e[3]=t=>{var d;(d=r(n))&&d.validate(async g=>{g&&(await C(a.oldPassword,a.newPassword),_.success(s("common.updateSuccess")))})})},null,8,["title"]),l(i,{title:r(s)("common.reset"),type:"danger",onClick:e[4]||(e[4]=t=>{var d;(d=r(n))&&d.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{p as _,I as __tla};
