import{d as T,c4 as D,Q as E,r as U,b as H,o as p,c as M,f as e,w as u,a,l as J,e as n,m as x,i as P,_ as F,a5 as G,z as K,aW as L,a3 as N,ca as O,M as R,__tla as X}from"./index-e69fb82c.js";import{W as Y,__tla as Z}from"./main-b5372f56.js";import{u as $,U as ee,__tla as ae}from"./useUpload-7c6c0a56.js";import{u as le,__tla as te}from"./useMessage-ac7e9ad3.js";let I,ue=Promise.all([(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return ae}catch{}})(),(()=>{try{return te}catch{}})()]).then(async()=>{let _,y,f,h,V;_=["src"],y={class:"thumb-but"},f=n("div",{style:{margin:"20px 0"}},null,-1),h=n("div",{style:{margin:"20px 0"}},null,-1),V=n("div",{style:{margin:"20px 0"}},null,-1),I=T({__name:"TabMusic",props:{modelValue:{}},emits:["update:modelValue"],setup(j,{emit:k}){const w=le(),z={Authorization:"Bearer "+D()},q=j,W=k,l=E({get:()=>q.modelValue,set:d=>W("update:modelValue",d)}),r=U(!1),g=U([]),m=H({accountId:l.value.accountId,type:"thumb",title:"",introduction:""}),A=d=>$(ee.Image,2)(d),B=d=>{if(d.code!==0)return w.error("\u4E0A\u4F20\u51FA\u9519\uFF1A"+d.msg),!1;g.value=[],m.title="",m.introduction="",b(d.data)},b=d=>{r.value=!1,l.value.thumbMediaId=d.mediaId,l.value.thumbMediaUrl=d.url};return(d,t)=>{const C=F,s=G,v=K,Q=L,c=N,S=O,o=R;return p(),M("div",null,[e(s,{align:"middle",justify:"center"},{default:u(()=>[e(c,{span:6},{default:u(()=>[e(s,{align:"middle",justify:"center",class:"thumb-div"},{default:u(()=>[e(c,{span:24},{default:u(()=>[e(s,{align:"middle",justify:"center"},{default:u(()=>[a(l).thumbMediaUrl?(p(),M("img",{key:0,style:{width:"100px"},src:a(l).thumbMediaUrl},null,8,_)):(p(),J(C,{key:1,icon:"ep:plus"}))]),_:1}),e(s,{align:"middle",justify:"center",style:{"margin-top":"2%"}},{default:u(()=>[n("div",y,[e(Q,{action:"/admin-api/mp/material/upload-temporary",headers:z,multiple:"",limit:1,"file-list":a(g),data:a(m),"before-upload":A,"on-success":B},{trigger:u(()=>[e(v,{type:"primary",link:""},{default:u(()=>[x("\u672C\u5730\u4E0A\u4F20")]),_:1})]),default:u(()=>[e(v,{type:"primary",link:"",onClick:t[0]||(t[0]=i=>r.value=!0),style:{"margin-left":"5px"}},{default:u(()=>[x("\u7D20\u6750\u5E93\u9009\u62E9 ")]),_:1})]),_:1},8,["file-list","data"])])]),_:1})]),_:1})]),_:1}),e(S,{title:"\u9009\u62E9\u56FE\u7247",modelValue:a(r),"onUpdate:modelValue":t[1]||(t[1]=i=>P(r)?r.value=i:null),width:"80%","append-to-body":"","destroy-on-close":""},{default:u(()=>[e(a(Y),{type:"image","account-id":a(l).accountId,onSelectMaterial:b},null,8,["account-id"])]),_:1},8,["modelValue"])]),_:1}),e(c,{span:18},{default:u(()=>[e(o,{modelValue:a(l).title,"onUpdate:modelValue":t[2]||(t[2]=i=>a(l).title=i),placeholder:"\u8BF7\u8F93\u5165\u6807\u9898"},null,8,["modelValue"]),f,e(o,{modelValue:a(l).description,"onUpdate:modelValue":t[3]||(t[3]=i=>a(l).description=i),placeholder:"\u8BF7\u8F93\u5165\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1}),h,e(o,{modelValue:a(l).musicUrl,"onUpdate:modelValue":t[4]||(t[4]=i=>a(l).musicUrl=i),placeholder:"\u8BF7\u8F93\u5165\u97F3\u4E50\u94FE\u63A5"},null,8,["modelValue"]),V,e(o,{modelValue:a(l).hqMusicUrl,"onUpdate:modelValue":t[5]||(t[5]=i=>a(l).hqMusicUrl=i),placeholder:"\u8BF7\u8F93\u5165\u9AD8\u8D28\u91CF\u97F3\u4E50\u94FE\u63A5"},null,8,["modelValue"])])}}})});export{I as _,ue as __tla};
