import{d as B,r as u,f as D,o as p,q as y,w as o,i as n,j as h,a as l,B as H,x as j,l as E,T as I,D as L,I as P,H as R,L as z,__tla as A}from"./index-9a3dc6a8.js";import{_ as G,__tla as J}from"./Dialog.vue_vue_type_style_index_0_lang-63789c9e.js";import{a as K,c as M,u as N,__tla as O}from"./index-d137cbb0.js";import{u as Q,__tla as W}from"./useMessage-78b6afd0.js";let w,X=Promise.all([(()=>{try{return A}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return O}catch{}})(),(()=>{try{return W}catch{}})()]).then(async()=>{w=B({__name:"TagForm",emits:["success"],setup(Y,{expose:V,emit:b}){const{t:m}=E(),d=Q(),t=u(!1),_=u(""),s=u(!1),v=u(""),r=u({id:void 0,name:void 0}),g=D({name:[{required:!0,message:"\u6807\u7B7E\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}),c=u();V({open:async(e,a)=>{if(t.value=!0,_.value=m("action."+e),v.value=e,q(),a){s.value=!0;try{r.value=await K(a)}finally{s.value=!1}}}});const x=b,k=async()=>{if(c&&await c.value.validate()){s.value=!0;try{const e=r.value;v.value==="create"?(await M(e),d.success(m("common.createSuccess"))):(await N(e),d.success(m("common.updateSuccess"))),t.value=!1,x("success")}finally{s.value=!1}}},q=()=>{var e;r.value={id:void 0,name:void 0},(e=c.value)==null||e.resetFields()};return(e,a)=>{const C=I,F=L,S=P,f=R,T=G,U=z;return p(),y(T,{title:l(_),modelValue:l(t),"onUpdate:modelValue":a[2]||(a[2]=i=>j(t)?t.value=i:null)},{footer:o(()=>[n(f,{onClick:k,type:"primary",disabled:l(s)},{default:o(()=>[h("\u786E \u5B9A")]),_:1},8,["disabled"]),n(f,{onClick:a[1]||(a[1]=i=>t.value=!1)},{default:o(()=>[h("\u53D6 \u6D88")]),_:1})]),default:o(()=>[H((p(),y(S,{ref_key:"formRef",ref:c,model:l(r),rules:l(g),"label-width":"100px"},{default:o(()=>[n(F,{label:"\u6807\u7B7E\u540D\u79F0",prop:"name"},{default:o(()=>[n(C,{modelValue:l(r).name,"onUpdate:modelValue":a[0]||(a[0]=i=>l(r).name=i),placeholder:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[U,l(s)]])]),_:1},8,["title","modelValue"])}}})});export{w as _,X as __tla};
