import{d as j,l as D,r,o as y,q as g,w as o,i as _,a as t,j as h,B as L,x as M,T as U,D as B,I as H,H as P,L as R,__tla as z}from"./index-0d81347e.js";import{_ as A,__tla as E}from"./Dialog.vue_vue_type_style_index_0_lang-9d93c798.js";import{g as G,c as J,u as K,__tla as N}from"./index-8d47641d.js";import{u as O,__tla as Q}from"./useMessage-da459548.js";let w,W=Promise.all([(()=>{try{return z}catch{}})(),(()=>{try{return E}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})()]).then(async()=>{w=j({name:"MpTagForm",__name:"TagForm",emits:["success"],setup(X,{expose:V,emit:x}){const{t:i}=D(),d=O(),s=r(!1),f=r(""),u=r(!1),p=r(""),l=r({accountId:-1,name:""}),b={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0",trigger:"blur"}]},c=r(null),I=x;V({open:async(e,a,n)=>{if(s.value=!0,f.value=i("action."+e),p.value=e,F(),l.value.accountId=a,n){u.value=!0;try{l.value=await G(n)}finally{u.value=!1}}}});const k=async()=>{var e;if(c&&await((e=c.value)==null?void 0:e.validate())){u.value=!0;try{const a=l.value;p.value==="create"?(await J(a),d.success(i("common.createSuccess"))):(await K(a),d.success(i("common.updateSuccess"))),s.value=!1,I("success")}finally{u.value=!1}}},F=()=>{var e;l.value={accountId:-1,name:""},(e=c.value)==null||e.resetFields()};return(e,a)=>{const n=U,T=B,q=H,v=P,C=A,S=R;return y(),g(C,{modelValue:t(s),"onUpdate:modelValue":a[2]||(a[2]=m=>M(s)?s.value=m:null),title:t(f)},{footer:o(()=>[_(v,{disabled:t(u),type:"primary",onClick:k},{default:o(()=>[h("\u786E \u5B9A")]),_:1},8,["disabled"]),_(v,{onClick:a[1]||(a[1]=m=>s.value=!1)},{default:o(()=>[h("\u53D6 \u6D88")]),_:1})]),default:o(()=>[L((y(),g(q,{ref_key:"formRef",ref:c,model:t(l),rules:b,"label-width":"80px"},{default:o(()=>[_(T,{label:"\u6807\u7B7E\u540D\u79F0",prop:"name"},{default:o(()=>[_(n,{modelValue:t(l).name,"onUpdate:modelValue":a[0]||(a[0]=m=>t(l).name=m),placeholder:"\u8BF7\u8F93\u5165\u6807\u7B7E\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])),[[S,t(u)]])]),_:1},8,["modelValue","title"])}}})});export{w as _,W as __tla};
