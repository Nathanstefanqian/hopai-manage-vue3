import{d as C,r as i,o as n,l as c,w as s,f as u,m as p,a as l,p as D,c as E,k as M,F as T,i as j,q as z,v as B,x as P,M as R,A as S,z as G,D as H,__tla as J}from"./index-456ccb5c.js";import{_ as K,__tla as N}from"./Dialog.vue_vue_type_style_index_0_lang-c9eb9937.js";import{t as O,__tla as Q}from"./index-2fa5d907.js";import{g as W,__tla as X}from"./index-4df3d9e2.js";import{u as Y,__tla as Z}from"./useMessage-59021f66.js";let h,$=Promise.all([(()=>{try{return J}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})()]).then(async()=>{h=C({name:"BpmTaskUpdateAssigneeForm",__name:"TaskAddSignDialogForm",emits:["success"],setup(ee,{expose:b,emit:g}){const V=Y(),d=i(!1),o=i(!1),t=i({id:"",userIdList:[],type:""}),k=i({userIdList:[{required:!0,message:"\u52A0\u7B7E\u5904\u7406\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],reason:[{required:!0,message:"\u52A0\u7B7E\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}),_=i(),f=i([]);b({open:async r=>{d.value=!0,L(),t.value.id=r,f.value=await W()}});const w=g,y=async r=>{if(_&&await _.value.validate()){o.value=!0,t.value.type=r;try{await O(t.value),V.success("\u52A0\u7B7E\u6210\u529F"),d.value=!1,w("success")}finally{o.value=!1}}},L=()=>{var r;t.value={id:"",userIdList:[],type:""},(r=_.value)==null||r.resetFields()};return(r,e)=>{const I=z,x=B,v=P,F=R,U=S,m=G,q=K,A=H;return n(),c(q,{modelValue:l(d),"onUpdate:modelValue":e[5]||(e[5]=a=>j(d)?d.value=a:null),title:"\u52A0\u7B7E",width:"500"},{footer:s(()=>[u(m,{disabled:l(o),type:"primary",onClick:e[2]||(e[2]=a=>y("before"))},{default:s(()=>[p(" \u5411\u524D\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{disabled:l(o),type:"primary",onClick:e[3]||(e[3]=a=>y("after"))},{default:s(()=>[p(" \u5411\u540E\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{onClick:e[4]||(e[4]=a=>d.value=!1)},{default:s(()=>[p("\u53D6 \u6D88")]),_:1})]),default:s(()=>[D((n(),c(U,{ref_key:"formRef",ref:_,model:l(t),rules:l(k),"label-width":"110px"},{default:s(()=>[u(v,{label:"\u52A0\u7B7E\u5904\u7406\u4EBA",prop:"userIdList"},{default:s(()=>[u(x,{modelValue:l(t).userIdList,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).userIdList=a),multiple:"",clearable:"",style:{width:"100%"}},{default:s(()=>[(n(!0),E(T,null,M(l(f),a=>(n(),c(I,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(v,{label:"\u52A0\u7B7E\u7406\u7531",prop:"reason"},{default:s(()=>[u(F,{modelValue:l(t).reason,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).reason=a),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u52A0\u7B7E\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[A,l(o)]])]),_:1},8,["modelValue"])}}})});export{h as _,$ as __tla};
