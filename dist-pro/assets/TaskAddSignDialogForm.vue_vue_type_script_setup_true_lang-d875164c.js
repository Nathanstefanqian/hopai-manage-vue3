import{d as B,r as i,o as n,q as c,w as s,i as u,j as p,a as l,B as D,c as T,k as A,F as j,x as H,C as M,D as P,T as R,I as S,H as z,L as E,M as G,__tla as J}from"./index-0d81347e.js";import{_ as K,__tla as N}from"./Dialog.vue_vue_type_style_index_0_lang-9d93c798.js";import{t as O,__tla as Q}from"./index-604350bc.js";import{g as W,__tla as X}from"./index-e3f7e17a.js";import{u as Y,__tla as Z}from"./useMessage-da459548.js";let h,$=Promise.all([(()=>{try{return J}catch{}})(),(()=>{try{return N}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})()]).then(async()=>{h=B({name:"BpmTaskUpdateAssigneeForm",__name:"TaskAddSignDialogForm",emits:["success"],setup(ee,{expose:b,emit:g}){const V=Y(),d=i(!1),o=i(!1),t=i({id:"",userIdList:[],type:""}),k=i({userIdList:[{required:!0,message:"\u52A0\u7B7E\u5904\u7406\u4EBA\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}],reason:[{required:!0,message:"\u52A0\u7B7E\u7406\u7531\u4E0D\u80FD\u4E3A\u7A7A",trigger:"change"}]}),_=i(),f=i([]);b({open:async r=>{d.value=!0,L(),t.value.id=r,f.value=await W()}});const w=g,y=async r=>{if(_&&await _.value.validate()){o.value=!0,t.value.type=r;try{await O(t.value),V.success("\u52A0\u7B7E\u6210\u529F"),d.value=!1,w("success")}finally{o.value=!1}}},L=()=>{var r;t.value={id:"",userIdList:[],type:""},(r=_.value)==null||r.resetFields()};return(r,e)=>{const I=G,x=M,v=P,C=R,F=S,m=z,U=K,q=E;return n(),c(U,{modelValue:l(d),"onUpdate:modelValue":e[5]||(e[5]=a=>H(d)?d.value=a:null),title:"\u52A0\u7B7E",width:"500"},{footer:s(()=>[u(m,{disabled:l(o),type:"primary",onClick:e[2]||(e[2]=a=>y("before"))},{default:s(()=>[p(" \u5411\u524D\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{disabled:l(o),type:"primary",onClick:e[3]||(e[3]=a=>y("after"))},{default:s(()=>[p(" \u5411\u540E\u52A0\u7B7E ")]),_:1},8,["disabled"]),u(m,{onClick:e[4]||(e[4]=a=>d.value=!1)},{default:s(()=>[p("\u53D6 \u6D88")]),_:1})]),default:s(()=>[D((n(),c(F,{ref_key:"formRef",ref:_,model:l(t),rules:l(k),"label-width":"110px"},{default:s(()=>[u(v,{label:"\u52A0\u7B7E\u5904\u7406\u4EBA",prop:"userIdList"},{default:s(()=>[u(x,{modelValue:l(t).userIdList,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).userIdList=a),multiple:"",clearable:"",style:{width:"100%"}},{default:s(()=>[(n(!0),T(j,null,A(l(f),a=>(n(),c(I,{key:a.id,label:a.nickname,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(v,{label:"\u52A0\u7B7E\u7406\u7531",prop:"reason"},{default:s(()=>[u(C,{modelValue:l(t).reason,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).reason=a),clearable:"",placeholder:"\u8BF7\u8F93\u5165\u52A0\u7B7E\u7406\u7531"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),[[q,l(o)]])]),_:1},8,["modelValue"])}}})});export{h as _,$ as __tla};
