import{ag as Ne,Q as c,bT as ze,bU as v,aC as w,aB as I,bV as Ee,d as Me,aD as J,r as ee,b as Ce,bW as Le,a as T,au as Be,aw as Ie,aH as te,b6 as Te,aX as Re,aZ as De,__tla as Oe}from"./index-456ccb5c.js";let ae,A,re,le,ne,j,h,oe,R,se,D,H,P,ie,ue,V,ce,de,me,ve,pe,fe,k,ge,he,_e=Promise.all([(()=>{try{return Oe}catch{}})()]).then(async()=>{var W=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function ye(e,a){if(e.length!==a.length)return!1;for(var l=0;l<e.length;l++)if(n=e[l],r=a[l],!(n===r||W(n)&&W(r)))return!1;var n,r;return!0}let K,x,N,z,Q,E,y,O,_,M,$,q;ge=()=>{const e=Ne().proxy.$props;return c(()=>{const a=(l,n,r)=>({});return e.perfMode?ze(a):function(l,n){n===void 0&&(n=ye);var r=null;function p(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];if(r&&r.lastThis===this&&n(u,r.lastArgs))return r.lastResult;var f=l.apply(this,u);return r={lastResult:f,lastArgs:u,lastThis:this},f}return p.clear=function(){r=null},p}(a)})},le=50,oe="itemRendered",se="scroll",j="forward",A="backward",ae="auto",me="smart",ce="start",re="center",ne="end",h="horizontal",D="vertical",R="rtl",P="negative",H="positive-ascending",V="positive-descending",K={[h]:"left",[D]:"top"},x=v({type:w([Number,Function]),required:!0}),N=v({type:Number}),z=v({type:Number,default:2}),Q=v({type:String,values:["ltr","rtl"],default:"ltr"}),E=v({type:Number,default:0}),y=v({type:Number,required:!0}),O=v({type:String,values:["horizontal","vertical"],default:D}),_=I({className:{type:String,default:""},containerElement:{type:w([String,Object]),default:"div"},data:{type:w(Array),default:()=>Ee([])},direction:Q,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:w([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),he=I({cache:z,estimatedItemSize:N,layout:O,initScrollOffset:E,total:y,itemSize:x,..._}),M={type:Number,default:6},$={type:Number,default:0},q={type:Number,default:2},pe=I({columnCache:z,columnWidth:x,estimatedColumnWidth:N,estimatedRowHeight:N,initScrollLeft:E,initScrollTop:E,itemKey:{type:w(Function),default:({columnIndex:e,rowIndex:a})=>`${a}:${e}`},rowCache:z,rowHeight:x,totalColumn:y,totalRow:y,hScrollbarSize:M,vScrollbarSize:M,scrollbarStartGap:$,scrollbarEndGap:q,role:String,..._}),k=I({alwaysOn:Boolean,class:String,layout:O,total:y,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:M,startGap:$,endGap:q,visible:Boolean}),ue=(e,a)=>e<a?j:A,ve=e=>e==="ltr"||e===R||e===h,fe=e=>e===R;let b=null;de=function(e=!1){if(b===null||e){const a=document.createElement("div"),l=a.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",a.appendChild(n),document.body.appendChild(a),a.scrollLeft>0?b=V:(a.scrollLeft=1,b=a.scrollLeft===0?P:H),document.body.removeChild(a),b}return b},ie=Me({name:"ElVirtualScrollBar",props:k,emits:["scroll","start-move","stop-move"],setup(e,{emit:a}){const l=c(()=>e.startGap+e.endGap),n=J("virtual-scrollbar"),r=J("scrollbar"),p=ee(),u=ee();let d=null,f=null;const i=Ce({isDragging:!1,traveled:0}),o=c(()=>Le[e.layout]),U=c(()=>e.clientSize-T(l)),be=c(()=>({position:"absolute",width:`${h===e.layout?U.value:e.scrollbarSize}px`,height:`${h===e.layout?e.scrollbarSize:U.value}px`,[K[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),F=c(()=>{const t=e.ratio,s=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*s/100;const g=s/3;return Math.floor(Math.min(Math.max(t*s,20),g))}),Se=c(()=>{if(!Number.isFinite(F.value))return{display:"none"};const t=`${F.value}px`;return function({move:g,size:B,bar:Z},xe){const m={},G=`translate${Z.axis}(${g}px)`;return m[Z.size]=B,m.transform=G,m.msTransform=G,m.webkitTransform=G,xe==="horizontal"?m.height="100%":m.width="100%",m}({bar:o.value,size:t,move:i.traveled},e.layout)}),S=c(()=>Math.floor(e.clientSize-F.value-T(l))),X=()=>{window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",C),document.onselectstart=f,f=null;const t=T(u);t&&(t.removeEventListener("touchmove",L),t.removeEventListener("touchend",C))},Y=t=>{t.stopImmediatePropagation(),t.ctrlKey||[1,2].includes(t.button)||(i.isDragging=!0,i[o.value.axis]=t.currentTarget[o.value.offset]-(t[o.value.client]-t.currentTarget.getBoundingClientRect()[o.value.direction]),a("start-move"),(()=>{window.addEventListener("mousemove",L),window.addEventListener("mouseup",C);const s=T(u);s&&(f=document.onselectstart,document.onselectstart=()=>!1,s.addEventListener("touchmove",L),s.addEventListener("touchend",C))})())},C=()=>{i.isDragging=!1,i[o.value.axis]=0,a("stop-move"),X()},L=t=>{const{isDragging:s}=i;if(!s||!u.value||!p.value)return;const g=i[o.value.axis];if(!g)return;Re(d);const B=-1*(p.value.getBoundingClientRect()[o.value.direction]-t[o.value.client])-(u.value[o.value.offset]-g);d=De(()=>{i.traveled=Math.max(e.startGap,Math.min(B,S.value)),a("scroll",B,S.value)})},we=t=>{const s=Math.abs(t.target.getBoundingClientRect()[o.value.direction]-t[o.value.client])-u.value[o.value.offset]/2;i.traveled=Math.max(0,Math.min(s,S.value)),a("scroll",s,S.value)};return Be(()=>e.scrollFrom,t=>{i.isDragging||(i.traveled=Math.ceil(t*S.value))}),Ie(()=>{X()}),()=>te("div",{role:"presentation",ref:p,class:[n.b(),e.class,(e.alwaysOn||i.isDragging)&&"always-on"],style:be.value,onMousedown:Te(we,["stop","prevent"]),onTouchstartPrevent:Y},te("div",{ref:u,class:r.e("thumb"),style:Se.value,onMousedown:Y},[]))}})});export{ae as A,A as B,re as C,le as D,ne as E,j as F,h as H,oe as I,R,se as S,D as V,_e as __tla,H as a,P as b,ie as c,ue as d,V as e,ce as f,de as g,me as h,ve as i,pe as j,fe as k,k as l,ge as u,he as v};
