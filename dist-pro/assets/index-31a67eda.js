import{d as G,u as L,G as H,r as _,b as I,j as Y,ae as J,H as K,o as n,c as Q,f as l,w as t,p as U,a as e,l as s,e as C,t as w,m,V as z,i as b,ad as W,F as X,B as Z,z as $,af as aa,C as ta,D as ea,__tla as la}from"./index-e69fb82c.js";import{_ as ra,__tla as oa}from"./Dialog.vue_vue_type_style_index_0_lang-dccb0a2a.js";import{_ as na,__tla as ia}from"./ContentWrap.vue_vue_type_script_setup_true_lang-8a84026f.js";import{_ as _a,__tla as sa}from"./index.vue_vue_type_script_setup_true_lang-d7aa0e31.js";import{_ as ua,__tla as pa}from"./DictTag.vue_vue_type_script_lang-9321406d.js";import{D as ma,__tla as ca}from"./dict-9c294b1e.js";import{d as da,__tla as fa}from"./formatTime-d17a0e16.js";import{j as ya,__tla as ha}from"./bpmn-embedded-722e18c7.js";import{g as wa,a as ga,__tla as ka}from"./index-d66c0545.js";import{b as va}from"./formCreate-a3356cdc.js";import{__tla as Ca}from"./el-card-7cf32362.js";import{__tla as ba}from"./index-862815f9.js";import"./color-a8b4eb58.js";import{__tla as Va}from"./XTextButton-6e6db110.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as xa}from"./XButton-d92719e7.js";import{__tla as Pa}from"./el-collapse-item-5e5d6b0c.js";import{__tla as Ta}from"./el-link-7e728b84.js";import{__tla as Da}from"./useMessage-ac7e9ad3.js";import{__tla as Na}from"./el-drawer-b213ec1b.js";let B,Sa=Promise.all([(()=>{try{return la}catch{}})(),(()=>{try{return oa}catch{}})(),(()=>{try{return ia}catch{}})(),(()=>{try{return sa}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return fa}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return ka}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return Va}catch{}})(),(()=>{try{return xa}catch{}})(),(()=>{try{return Pa}catch{}})(),(()=>{try{return Ta}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Na}catch{}})()]).then(async()=>{B=G({name:"BpmProcessDefinition",__name:"index",setup(Ua){const{push:V}=L(),{query:q}=H(),g=_(!0),x=_(0),P=_([]),u=I({pageNo:1,pageSize:10,key:q.key}),T=async()=>{g.value=!0;try{const i=await wa(u);P.value=i.list,x.value=i.total}finally{g.value=!1}},c=_(!1),k=_({rule:[],option:{}}),D=async i=>{i.formType==10?(va(k,i.formConf,i.formFields),c.value=!0):await V({path:i.formCustomCreatePath})},d=_(!1),p=_(null),N=_({prefix:"flowable"});return Y(()=>{T()}),(i,r)=>{const o=Z,f=$,M=ua,y=aa,O=ta,R=_a,j=na,A=J("form-create"),S=ra,E=K("hasPermi"),F=ea;return n(),Q(X,null,[l(j,null,{default:t(()=>[U((n(),s(O,{data:e(P)},{default:t(()=>[l(o,{label:"\u5B9A\u4E49\u7F16\u53F7",align:"center",prop:"id",width:"400"}),l(o,{label:"\u6D41\u7A0B\u540D\u79F0",align:"center",prop:"name",width:"200"},{default:t(a=>[l(f,{type:"primary",link:"",onClick:v=>(async h=>{p.value=await ga(h.id),d.value=!0})(a.row)},{default:t(()=>[C("span",null,w(a.row.name),1)]),_:2},1032,["onClick"])]),_:1}),l(o,{label:"\u5B9A\u4E49\u5206\u7C7B",align:"center",prop:"category",width:"100"},{default:t(a=>[l(M,{type:e(ma).BPM_MODEL_CATEGORY,value:a.row.category},null,8,["type","value"])]),_:1}),l(o,{label:"\u8868\u5355\u4FE1\u606F",align:"center",prop:"formType",width:"200"},{default:t(a=>[a.row.formType===10?(n(),s(f,{key:0,type:"primary",link:"",onClick:v=>D(a.row)},{default:t(()=>[C("span",null,w(a.row.formName),1)]),_:2},1032,["onClick"])):(n(),s(f,{key:1,type:"primary",link:"",onClick:v=>D(a.row)},{default:t(()=>[C("span",null,w(a.row.formCustomCreatePath),1)]),_:2},1032,["onClick"]))]),_:1}),l(o,{label:"\u6D41\u7A0B\u7248\u672C",align:"center",prop:"processDefinition.version",width:"80"},{default:t(a=>[a.row?(n(),s(y,{key:0},{default:t(()=>[m("v"+w(a.row.version),1)]),_:2},1024)):(n(),s(y,{key:1,type:"warning"},{default:t(()=>[m("\u672A\u90E8\u7F72")]),_:1}))]),_:1}),l(o,{label:"\u72B6\u6001",align:"center",prop:"version",width:"80"},{default:t(a=>[a.row.suspensionState===1?(n(),s(y,{key:0,type:"success"},{default:t(()=>[m("\u6FC0\u6D3B")]),_:1})):z("",!0),a.row.suspensionState===2?(n(),s(y,{key:1,type:"warning"},{default:t(()=>[m("\u6302\u8D77")]),_:1})):z("",!0)]),_:1}),l(o,{label:"\u90E8\u7F72\u65F6\u95F4",align:"center",prop:"deploymentTime",width:"180",formatter:e(da)},null,8,["formatter"]),l(o,{label:"\u5B9A\u4E49\u63CF\u8FF0",align:"center",prop:"description",width:"300","show-overflow-tooltip":""}),l(o,{label:"\u64CD\u4F5C",align:"center",width:"150",fixed:"right"},{default:t(a=>[U((n(),s(f,{link:"",type:"primary",onClick:v=>{return h=a.row,void V({name:"BpmTaskAssignRuleList",query:{modelId:h.id}});var h}},{default:t(()=>[m(" \u5206\u914D\u89C4\u5219 ")]),_:2},1032,["onClick"])),[[E,["bpm:task-assign-rule:query"]]])]),_:1})]),_:1},8,["data"])),[[F,e(g)]]),l(R,{total:e(x),page:e(u).pageNo,"onUpdate:page":r[0]||(r[0]=a=>e(u).pageNo=a),limit:e(u).pageSize,"onUpdate:limit":r[1]||(r[1]=a=>e(u).pageSize=a),onPagination:T},null,8,["total","page","limit"])]),_:1}),l(S,{title:"\u8868\u5355\u8BE6\u60C5",modelValue:e(c),"onUpdate:modelValue":r[2]||(r[2]=a=>b(c)?c.value=a:null),width:"800"},{default:t(()=>[l(A,{rule:e(k).rule,option:e(k).option},null,8,["rule","option"])]),_:1},8,["modelValue"]),l(S,{title:"\u6D41\u7A0B\u56FE",modelValue:e(d),"onUpdate:modelValue":r[4]||(r[4]=a=>b(d)?d.value=a:null),width:"800"},{default:t(()=>[l(e(ya),W({key:"designer",modelValue:e(p),"onUpdate:modelValue":r[3]||(r[3]=a=>b(p)?p.value=a:null),value:e(p)},e(N),{prefix:e(N).prefix}),null,16,["modelValue","value","prefix"])]),_:1},8,["modelValue"])],64)}}})});export{Sa as __tla,B as default};
