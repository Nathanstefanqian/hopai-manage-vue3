import{d as j,u as A,r as s,b as F,j as L,ae as R,a as r,o as m,l as p,w as t,p as Y,f as a,m as f,t as k,e as D,i as H,B as Q,af as V,_ as W,z as X,C as q,a3 as J,D as K,__tla as N}from"./index-e69fb82c.js";import{E as Z,__tla as $}from"./el-card-7cf32362.js";import{_ as aa,__tla as ta}from"./ContentWrap.vue_vue_type_script_setup_true_lang-8a84026f.js";import{_ as ra,__tla as la}from"./DictTag.vue_vue_type_script_lang-9321406d.js";import{D as ea,__tla as _a}from"./dict-9c294b1e.js";import{b as oa,a as sa,__tla as na}from"./index-d66c0545.js";import{c as ia,__tla as ca}from"./index-1d47384c.js";import{b as ua}from"./formCreate-a3356cdc.js";import{_ as ma,__tla as pa}from"./ProcessInstanceBpmnViewer.vue_vue_type_style_index_0_lang-5ea28348.js";import{u as fa,__tla as ya}from"./useMessage-ac7e9ad3.js";import"./color-a8b4eb58.js";import{__tla as da}from"./bpmn-embedded-722e18c7.js";import{__tla as ha}from"./Dialog.vue_vue_type_style_index_0_lang-dccb0a2a.js";import{__tla as va}from"./XTextButton-6e6db110.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as ba}from"./XButton-d92719e7.js";import{__tla as ga}from"./el-collapse-item-5e5d6b0c.js";import{__tla as Ca}from"./el-link-7e728b84.js";import{__tla as wa}from"./el-drawer-b213ec1b.js";import{__tla as xa}from"./formatTime-d17a0e16.js";let P,ka=Promise.all([(()=>{try{return N}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return ta}catch{}})(),(()=>{try{return la}catch{}})(),(()=>{try{return _a}catch{}})(),(()=>{try{return na}catch{}})(),(()=>{try{return ca}catch{}})(),(()=>{try{return pa}catch{}})(),(()=>{try{return ya}catch{}})(),(()=>{try{return da}catch{}})(),(()=>{try{return ha}catch{}})(),(()=>{try{return va}catch{}})(),(()=>{try{return ba}catch{}})(),(()=>{try{return ga}catch{}})(),(()=>{try{return Ca}catch{}})(),(()=>{try{return wa}catch{}})(),(()=>{try{return xa}catch{}})()]).then(async()=>{let y,d;y={class:"clearfix"},d={class:"el-icon-document"},P=j({name:"BpmProcessInstanceCreate",__name:"index",setup(Da){const h=A(),B=fa(),c=s(!0),v=s([]),E=F({suspensionState:1}),b=s(null),_=s(),u=s({rule:[],option:{}}),o=s(),M=async g=>{if(_.value&&o.value){_.value.btn.loading(!0);try{await ia({processDefinitionId:o.value.id,variables:g}),B.success("\u53D1\u8D77\u6D41\u7A0B\u6210\u529F"),h.go(-1)}finally{_.value.btn.loading(!1)}}};return L(()=>{(async()=>{c.value=!0;try{v.value=await oa(E)}finally{c.value=!1}})()}),(g,i)=>{const n=Q,T=ra,z=V,C=W,w=X,G=q,x=aa,I=R("form-create"),O=J,S=Z,U=K;return r(o)?(m(),p(x,{key:1},{default:t(()=>[a(S,{class:"box-card"},{default:t(()=>[D("div",y,[D("span",d,"\u7533\u8BF7\u4FE1\u606F\u3010"+k(r(o).name)+"\u3011",1),a(w,{style:{float:"right"},type:"primary",onClick:i[0]||(i[0]=l=>o.value=void 0)},{default:t(()=>[a(C,{icon:"ep:delete"}),f(" \u9009\u62E9\u5176\u5B83\u6D41\u7A0B ")]),_:1})]),a(O,{span:16,offset:6,style:{"margin-top":"20px"}},{default:t(()=>[a(I,{rule:r(u).rule,api:r(_),"onUpdate:api":i[1]||(i[1]=l=>H(_)?_.value=l:null),option:r(u).option,onSubmit:M},null,8,["rule","api","option"])]),_:1})]),_:1}),a(ma,{"bpmn-xml":r(b)},null,8,["bpmn-xml"])]),_:1})):(m(),p(x,{key:0},{default:t(()=>[Y((m(),p(G,{data:r(v)},{default:t(()=>[a(n,{label:"\u6D41\u7A0B\u540D\u79F0",align:"center",prop:"name"}),a(n,{label:"\u6D41\u7A0B\u5206\u7C7B",align:"center",prop:"category"},{default:t(l=>[a(T,{type:r(ea).BPM_MODEL_CATEGORY,value:l.row.category},null,8,["type","value"])]),_:1}),a(n,{label:"\u6D41\u7A0B\u7248\u672C",align:"center",prop:"version"},{default:t(l=>[a(z,null,{default:t(()=>[f("v"+k(l.row.version),1)]),_:2},1024)]),_:1}),a(n,{label:"\u6D41\u7A0B\u63CF\u8FF0",align:"center",prop:"description"}),a(n,{label:"\u64CD\u4F5C",align:"center"},{default:t(l=>[a(w,{link:"",type:"primary",onClick:Pa=>(async e=>{o.value=e,e.formType==10?(ua(u,e.formConf,e.formFields),b.value=await sa(e.id)):e.formCustomCreatePath&&await h.push({path:e.formCustomCreatePath})})(l.row)},{default:t(()=>[a(C,{icon:"ep:plus"}),f(" \u9009\u62E9 ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[U,r(c)]])]),_:1}))}}})});export{ka as __tla,P as default};
